trigger:
- main

pool:
  vmImage: 'windows-latest'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '6.x'
    installationPath: $(Agent.ToolsDirectory)/dotnet

- script: |
    dotnet build $(Build.SourcesDirectory)/{BlazorHelloWorld.csproj 파일의 상대 경로} -c Release
  displayName: 'Build Blazor app'

- script: |
    dotnet publish $(Build.SourcesDirectory)/{BlazorHelloWorld 프로젝트 폴더의 상대 경로} -c Release -o $(Build.ArtifactStagingDirectory)
  displayName: 'Publish Blazor app'

- task: AzureWebApp@1
  inputs:
    azureSubscription: 'Azure subscription 1'
    appType: 'webAppWindows'
    appName: 'AzureDevOpsShua'
    runtimeStack: 'DOTNET|8.0'
    package: $(Build.ArtifactStagingDirectory)
